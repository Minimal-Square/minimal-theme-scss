{% if section.settings.timer_activate == true %}
<div class="timer">
    <span class="timer__icon icon icon-percent"></span>
    <h4 class="timer__title">{{ section.settings.timer_title }}</h4>
    <div class="timer-display">
        <div class="timer-block">
            <span class="timer-block__num js-timer-days">00</span>
            <span class="timer-block__unit">d</span>
        </div>
        <div class="timer-block">
            <span class="timer-block__num js-timer-hours">00</span>
            <span class="timer-block__unit">h</span>
        </div>
        <div class="timer-block">
            <span class="timer-block__num js-timer-minutes">00</span>
            <span class="timer-block__unit">m</span>
        </div>
        <div class="timer-block">
            <span class="timer-block__num js-timer-seconds">00</span>
            <span class="timer-block__unit">s</span>
        </div>
    </div>
</div>
{% endif %}

<script type="text/javascript">
  var second = 1000,
      minute = second * 60,
      hour = minute * 60,
      day = hour * 24;

  var countDown = new Date('{{- end_date -}}').getTime(),
      x = setInterval(function() {
      var now = new Date().getTime(),
          distance = countDown - now;
    	document.querySelector('.js-timer-days').innerText = Math.floor(distance / (day)),
      	document.querySelector('.js-timer-hours').innerText = Math.floor((distance % (day)) / (hour)),
    	document.querySelector('.js-timer-minutes').innerText = Math.floor((distance % (hour)) / (minute)),
    	document.querySelector('.js-timer-seconds').innerText = Math.floor((distance % (minute)) / second);
        if(distance <= 0){
            document.querySelector('.timer').style.display = "none";
        }
    }, second)
</script>